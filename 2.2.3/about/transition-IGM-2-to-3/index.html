
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Run your own glacier simulations in a fast, accurate, and user-friendly way.">
      
      
      
        <link rel="canonical" href="https://jouvetg.github.io/igm-doc.github.io/2.2.3/about/transition-IGM-2-to-3/">
      
      
        <link rel="prev" href="../help/">
      
      
        <link rel="next" href="../tools/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>IGM 2 to 3 transition notes - Instructed Glacier Model (IGM)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="glacier_light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#transitioning-igm-from-v2-to-v3-guideline" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Instructed Glacier Model (IGM)" class="md-header__button md-logo" aria-label="Instructed Glacier Model (IGM)" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Instructed Glacier Model (IGM)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IGM 2 to 3 transition notes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="glacier_light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="glacier_dark" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jouvetg/igm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    jouvetg/igm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../installation/quick_start/" class="md-tabs__link">
          
  
  Installation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Running/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modules/introduction/" class="md-tabs__link">
          
  
  Modules

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../help/" class="md-tabs__link">
          
  
  Help

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../credits_and_references/" class="md-tabs__link">
        
  
    
  
  Credits

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Instructed Glacier Model (IGM)" class="md-nav__button md-logo" aria-label="Instructed Glacier Model (IGM)" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Instructed Glacier Model (IGM)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jouvetg/igm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    jouvetg/igm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/other/nvidia_drivers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nvidia Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/other/virtual_environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/other/wsl_windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WSL Windows
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Run IGM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Using Hydra
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Using Hydra
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/working_directory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working Directory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/custom_configurations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Configurations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/distributed_computing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributed Computing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hydra/help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/Examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What are modules?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Input
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Input
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/inputs/local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    local
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/inputs/load_ncdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    load_ncdf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/inputs/load_tif/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    load_tif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/inputs/oggm_shop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    oggm_shop
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Processes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Processes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/avalanche/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    avalanche
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/clim_glacialindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clim_glacialindex
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/clim_oggm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clim_oggm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/data_assimilation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    data_assimilation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/enthalpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    enthalpy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/flow_accumulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    flow_accumulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/gflex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gflex
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/glerosion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    glerosion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/iceflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iceflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/particles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    particles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/pretraining/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pretraining
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/read_output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    read_output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/rockflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rockflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/smb_accpdd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smb_accpdd
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/smb_oggm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smb_oggm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/smb_simple/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smb_simple
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/texture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    texture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/thk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    thk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    time
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/processes/vert_flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vert_flow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Output
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Output
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/outputs/local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    local
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/outputs/write_ncdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    write_ncdf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/outputs/write_tif/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    write_tif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/outputs/write_ts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    write_ts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/outputs/plot2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plot2d
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/user_modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Help
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Help
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    IGM 2 to 3 transition notes
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../credits_and_references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credits
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="transitioning-igm-from-v2-to-v3-guideline">Transitioning IGM from v2 to v3: Guideline</h1>
<h1 id="in-short">In short</h1>
<p>This is a major structural update, and we are starting a new versioning series with IGM 3.0.0. Below are the main changes and improvements you can expect:</p>
<ul>
<li>
<p><strong>Hydra integration (game changer!):</strong> The most important update is the integration of the Hydra library for handling parameters. This allows you to run large multi-ensemble simulations (poss on multiple GPUs) from a single command line, with full traceability and reproducibility. No more manually managing complex parameter files—Hydra does it for you, and does it extremely well. This alone is a compelling reason to switch to IGM3!</p>
</li>
<li>
<p><strong>YAML-based parameters with hierarchical structure:</strong> All parameters are now defined in YAML (instead of JSON), offering a more powerful and flexible configuration format. Especially, parameters are now organized hierarchically, making it much easier to manage large configurations. This comes with renamed parameters, but don’t worry—we provide a tool to convert old JSON files to the new YAML format, along with a conversion table.</p>
</li>
<li>
<p><strong>New documentation website:</strong> A freshly built documentation website now automatically collects all parameter definitions, along with their default values, descriptions, and units.</p>
</li>
<li>
<p><strong>Clean folder structure:</strong> The working directory is now properly organized into subfolders for parameters, data, user modules, and output.</p>
</li>
<li>
<p><strong>Improved code readability:</strong> Key modules like iceflow and data_assimilation (formerly optimize) have been split into sub-files to improve readability, maintainability, and customization.</p>
</li>
</ul>
<p>Here are the important new links:</p>
<ul>
<li>
<p>The pre-release is on the usual https://github.com/jouvetg/igm , but you need to checkout the feature/hydra branch.</p>
</li>
<li>
<p>The new documentation website is here : https://jouvetg.github.io/igm-doc/</p>
</li>
<li>
<p>The separate repo containing examples : https://github.com/instructed-glacier-model/igm-examples</p>
</li>
<li>
<p>The repo with the current technical paper re-shaped for IGM 3.0.0 : https://github.com/instructed-glacier-model/igm-paper</p>
</li>
</ul>
<h1 id="in-more-details-for-users">In more details (for users)</h1>
<h2 id="parameter-handling">Parameter handling</h2>
<h3 id="hydra-library-replaces-parser-and-yaml-file"><code>hydra</code> library replaces <code>parser</code>, and YAML file</h3>
<p>Parameters previously managed with the <code>parser</code> library are now handled using the <code>hydra</code> library. The parameter file, which was formerly a JSON file (<code>params.json</code>), has been transitioned to a YAML file (<code>experiment/params.yaml</code>) adhering to the YAML standard. This shift to <code>hydra</code> has significantly simplified the core IGM code. Running IGM now involves executing commands like:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a> igm_run +experiment=params 
</span></code></pre></div>
<p>where parameters can be changed within the <code>params.yaml</code> file, or overridden directly in the command line. For example:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>igm_run<span class="w"> </span>+experiment<span class="o">=</span>params<span class="w"> </span>processes.time.start<span class="o">=</span><span class="m">1900</span><span class="w"> </span>processes.time.end<span class="o">=</span><span class="m">2100</span>
</span></code></pre></div>
<p>From a user perspective, migrating to IGM 3 essentially involves converting the former parameter file <code>params.json</code> into the new <code>experiment/params.yaml</code> format. To facilitate this transition, we provide a utility script named <code>json_to_yaml.py</code> (in the root of IGM repo) that automates the conversion process (you may have to adjust manually, check it afterwards!).</p>
<h3 id="parameter-naming-changes-and-hierarchical-construction">Parameter Naming Changes, and hierarchical construction</h3>
<p>Parameter names have been slightly modified. Previously, all parameters included a prefix like <code>iflo</code> to indicate they were associated with the <code>iceflow</code> module. Now, parameters are organized hierarchically by attributes, making the prefix redundant and therefore removed. For example: <code>time_start</code> is now accessible as <code>processes.time.start</code>.</p>
<p>In the <code>iceflow</code> module, parameters have been significantly reorganized to follow a <strong>hierarchical structure</strong>. To assist with the transition, we provide a script named <code>json_to_yaml.py</code>, and correspondence table to help convert old JSON files into the new YAML format. Also, IGM now raises an error if a parameter contains a typo, and suggests parameters to pick.</p>
<h3 id="example-of-new-parameter-file">Example of new parameter file</h3>
<p>Here is what the new parameter file looks like:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># @package _global_</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nt">core</span><span class="p">:</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">url_data</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://www.dropbox.com/scl/fo/8ixpy27i67s04bp7uixoq/h?rlkey=0ye7rd4zkcqfhvzx7suunw3bk&amp;dl=0&quot;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="nt">defaults</span><span class="p">:</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">override /inputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">local</span><span class="p p-Indicator">]</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">override /processes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">smb_simple</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">iceflow</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">time</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">thk</span><span class="p p-Indicator">]</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">override /outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">local</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">plot2d</span><span class="p p-Indicator">]</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="nt">inputs</span><span class="p">:</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">  </span><span class="nt">local</span><span class="p">:</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="nt">input_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input.nc</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="nt">processes</span><span class="p">:</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">  </span><span class="nt">iceflow</span><span class="p">:</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="nt">physics</span><span class="p">:</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">      </span><span class="nt">init_slidingco</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0595</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">  </span><span class="nt">time</span><span class="p">:</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="nt">start</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1880.0</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2020.0</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span><span class="nt">save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span><span class="w"> </span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="nt">outputs</span><span class="p">:</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">  </span><span class="nt">plot2d</span><span class="p">:</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">    </span><span class="nt">live</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span></code></pre></div>
<p>The above file will be read by Hydra in IGM and has the following structure:</p>
<ul>
<li><code>core</code>: Includes all parameters specific to the core IGM run, such as logging, downloading data prior to the run, GPU-related settings, etc.</li>
<li><code>defaults</code>: Lists the input, process, and output modules to be used.</li>
<li><code>inputs</code>: Contains parameters to override the defaults for input modules.</li>
<li><code>processes</code>: Contains parameters to override the defaults for process modules.</li>
<li><code>outputs</code>: Contains parameters to override the defaults for output modules.</li>
</ul>
<p><strong>Note:</strong> The former module types <code>preprocess</code>, <code>process</code>, and <code>postprocess</code> have been renamed to <code>input</code>, <code>modules</code>, and <code>output</code>, respectively. </p>
<h3 id="running-multiple-runs">Running multiple runs</h3>
<p>A great advantage of Hydra is the possibility it provides for running ensemble simulations. For example, the following command sequentially runs two simulations with two different sets of parameters:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>igm_run<span class="w"> </span>-m<span class="w"> </span>+experiment<span class="o">=</span>params<span class="w"> </span>processes.time.end<span class="o">=</span><span class="m">2080</span>,2110
</span></code></pre></div>
<p>Alternatively, if you supply two parameter files (<code>params1</code> and <code>params2</code>), you can execute:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>igm_run<span class="w"> </span>-m<span class="w"> </span>+experiment<span class="o">=</span>params1,params2
</span></code></pre></div>
<p>You can also perform a grid search over multiple parameters. For instance, the following command runs simulations for a 3x2 parameter grid:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>igm_run<span class="w"> </span>-m<span class="w"> </span>+experiment<span class="o">=</span>params<span class="w"> </span>processes.time.start<span class="o">=</span><span class="m">1900</span>,1910,1920<span class="w"> </span>processes.time.end<span class="o">=</span><span class="m">2080</span>,2110
</span></code></pre></div>
<p>In such cases, the output folder will be named <code>multirun</code> instead of <code>output</code>.</p>
<h2 id="new-structure-of-working-folder">New structure of working folder</h2>
<p>The working folder is structured as follows:</p>
<ul>
<li><code>experiment</code>: Contains the parameter files.</li>
<li><code>data</code>: Stores input data, if any.</li>
<li><code>user</code>: Contains user-defined/custom Python functions or modules.</li>
<li><code>output</code> or <code>multirun</code>: Contains the results of the IGM runs.</li>
</ul>
<p>The folder structure looks like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>├── experiment
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>│   └── params.yaml
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>├── data
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>│   ├── ...
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>├── user
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>│   ├── code
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>│   │   └── processes
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>│   │       └── mymodule.py
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>│   └── conf
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>│       └── processes
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>│           └── mymodule.yaml
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>└── output
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>  ├── 2025-03-06
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>  │   └── 15-43-37
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>  │   └── 15-44-07
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>  │       └── output.nc
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>  │       └── ...
</span></code></pre></div>
<h2 id="integration-and-exclusion-of-former-modules">Integration and Exclusion of Former Modules</h2>
<ul>
<li>
<p>Splitting of <code>iceflow</code> modules into <code>data_assimilation</code> and <code>pretraining</code>: The <code>iceflow</code> module has been split into two dedicated modules: <code>data_assimilation</code> (formerly <code>optimize</code>) and <code>pretraining</code>. This change was made to improve code organization and maintainability, as the <code>iceflow</code> module had grown too large. Previously, <code>data_assimilation</code> and <code>pretraining</code> were separate but had dependency issues with <code>iceflow</code>. With the new structure, both modules remain dependent on <code>iceflow</code>, but these dependencies are now handled seamlessly. When using <code>data_assimilation</code> or <code>pretraining</code>, ensure that the <code>iceflow</code> module is also included in your configuration. The order of inclusion does not matter.</p>
</li>
<li>
<p>The modules <code>anim_mayavi</code>, <code>anim_plotly</code>, and <code>anim_video</code> have been externalized from IGM and moved to <code>utils</code>. These modules were purely for postprocessing and were executed at the very end. To simplify the core structure, they were externalized.</p>
</li>
<li>
<p>Modules such as <code>print_comp</code> and <code>print_info</code> have been integrated into the core functionality of IGM.</p>
</li>
<li>
<p>The <code>write_particles</code> functionality is now integrated into the <code>particule</code> module.</p>
</li>
</ul>
<h2 id="new-local-module-merging-netcdf-and-tif">New <code>local</code> module merging netcdf and tif</h2>
<p>A new I/O module, <code>local</code>, has been introduced to replace the <code>load_XXX</code> and <code>write_XXX</code> modules. The <code>local</code> module leverages the <code>xarray</code> library, which is more powerful and supports loading both NetCDF (<code>.nc</code>) and GeoTIFF (<code>.tif</code>) files.</p>
<h2 id="oggm_shop-requires-coupling-with-load_ncdf-or-local"><code>oggm_shop</code> requires coupling with <code>load_ncdf</code> or <code>local</code></h2>
<p>The <code>oggm_shop</code> module now exclusively handles downloading data (e.g., RGIXXXX folders) using OGGM and converting it into a NetCDF file (<code>input.nc</code>) that adheres to IGM's naming conventions. However, it no longer performs the task of loading this data into IGM. To process the downloaded data, you must pair <code>oggm_shop</code> with either the <code>load_ncdf</code> or <code>local</code> modules. </p>
<p>For example, if you use <code>oggm_shop</code>, you must include <code>load_ncdf</code> or <code>local</code> as additional <code>inputs</code> modules in your configuration.</p>
<h2 id="default-parameter-value-changes-upcoming-release">Default Parameter Value Changes (Upcoming Release)</h2>
<p>In the upcoming release, several default parameter values will be updated to improve performance and usability. These changes are not applied yet but will be included in the next version:</p>
<ul>
<li>
<p><strong><code>retrain_freq</code> (current default: 10):</strong> The current default retrains the ice flow CNN every 10 time steps. This frequency has been found insufficient in many cases. The next release will increase the retraining frequency to every 3 time steps.</p>
</li>
<li>
<p><strong><code>smooth_anisotropy_factor</code> (current default: 0.2):</strong> The current value of 0.2 for anisotropic smoothing has been observed to cause chessboard effects in ice thickness. To address this, the next release will safely deactivate anisotropic smoothing by setting this parameter to 1.0.</p>
</li>
<li>
<p><strong><code>convexity_weight</code> (current default: unknown):</strong> The current convexity weight, which is particularly useful in the absence of data, has been found to be highly empirical and non-intuitive. As a result, it will be deactivated in the next release by setting its value to 0.</p>
</li>
<li>
<p><strong><code>fix_opti_normalization_issue</code> (current default: false):</strong> A normalization issue has been identified in the current cost function for data assimilation, where some terms use sums while others use means. This inconsistency has been compensated for by adjusting regularization parameters. The next release will address this issue by setting this parameter to <code>true</code>, ensuring consistent use of means throughout. Consequently, users will need to significantly increase the regularization parameters (approximately <span class="arithmatex">\(10^3\)</span> for thickness and <span class="arithmatex">\(10^{10}\)</span> for sliding coefficients).</p>
</li>
<li>
<p><strong><code>log_slidingco</code> (current default: false):</strong> In the next release, the optimization will handle the square root of <code>slidingco</code> (scaled) instead of <code>slidingco</code> directly. This approach ensures that <code>slidingco</code> remains positive without explicitly enforcing positivity. Note that this change will affect the scaling of <code>slidingco</code> (approximately <span class="arithmatex">\(10^{-6}\)</span>) when this option is set to <code>true</code>.</p>
</li>
<li>
<p><strong>`lr_init`` (current default: 0.0001):</strong> In the next release, it will be reduced to 0.001 to make the training more agressive.</p>
</li>
</ul>
<h1 id="in-more-details-for-developpers">In more details (for developpers)</h1>
<h2 id="hierachical-and-separated-parameters-and-code">Hierachical and separated parameters and code</h2>
<p>In IGM source code, the parameters and the code are now hierarchically organized. Default parameters are stored in the <code>igm/igm/conf</code> folder, which is separate from the code located in the <code>igm/igm</code> folder. This separation ensures a clean organization of configuration files and source code. Parameters are grouped into logical categories and subcategories within the YAML files. This structure mirrors the organization of the modules and processes in IGM. For example, the folder structure for default parameters looks like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>igm/igm/conf
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>├── inputs
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>│   └── local.yaml
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>│   └── ...
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>├── processes
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>│   └── iceflow.yaml
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>│   └── ...
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>└── outputs
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>  └── plot2d.yaml
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>  └── ...
</span></code></pre></div>
<p>In the code, all parameters are accessible through the object <code>cfg</code>. For example, <code>cfg.processes.enthalpy.ref_temp</code> refers to a parameter associated with the <code>enthalpy</code> processes module.</p>
<p>On the other hand the structure for the code looks very similar:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>igm/igm
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>├── inputs
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>│   └── local
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>│   └── ...
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>├── processes
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>│   └── iceflow
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>│   └── avalanche
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>└── outputs
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>  └── plot2d
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>  └── ...
</span></code></pre></div>
<h2 id="custom-modules-now-called-user">Custom modules (now called "user")</h2>
<p>User modules are very useful when customizing applications. They can be used to tailor input, process, or output methods. To create such a user module, you need to create (or update) the <code>user</code> folder located at the root of your working directory, ensuring the following hierarchy is respected:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>└── user
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    ├── code
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    │   └── inputs 
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    │   │   └── my_inputs_module
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    │   │       └── my_inputs_module.py 
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    │   └── processes 
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    │   │   └── my_processes_module
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    │   │       └── my_processes_module.py 
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    │   └── outputs 
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    │       └── my_outputs_module
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    │           └── my_outputs_module.py 
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    └── conf
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>        └── inputs
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>            └── my_inputs_module.yaml 
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>        └── processes
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>            └── my_processes_module.yaml 
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>        └── outputs
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>            └── my_outputs_module.yaml 
</span></code></pre></div>
<p>where <code>my_processes_module.py</code> has the following structure (and require to define function <code>initialize</code>, <code>update</code>, and <code>finalize</code>):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>  <span class="o">...</span> 
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>  <span class="n">cfg</span><span class="o">.</span><span class="n">processes</span><span class="o">.</span><span class="n">clim_aletsch</span><span class="o">.</span><span class="n">time_resolution</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>  <span class="o">...</span> 
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">finalize</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>  <span class="k">pass</span>
</span></code></pre></div>
<p>Note that <code>my_inputs_module.py</code> and <code>my_outputs_module.py</code> only require function <code>run</code> (and <code>initialize</code> for output).</p>
<p>Parameter files located in <code>conf/inputs</code>, <code>conf/processes</code>, and <code>conf/outputs</code> look like 
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">update_freq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nt">time_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">365</span>
</span></code></pre></div>
or in case there is no parameter (the file must exist as follows even if no parameter are defined):
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="l l-Scalar l-Scalar-Plain">null</span>
</span></code></pre></div></p>
<p>It is important to note that user modules take precedence over official modules. If a user module shares the same name as an official module, the user module will override the official one, and the official module will be ignored.</p>
<h2 id="how-to-transition-your-own-user-modules">How to transition your own user modules?</h2>
<ul>
<li>
<p><strong>Parameter changes:</strong> Update your user module code to replace each parameter reference (e.g., <code>params.iflo_exp_glen</code>) with the new naming convention (e.g., <code>cfg.processes.iceflow.physics.exp_glen</code>) as outlined in the parameter change tables below.</p>
</li>
<li>
<p><strong>Function updates:</strong> Modify the function argument for <code>initialize</code>, <code>update</code>, and <code>finalize</code> to accept <code>cfg</code> as an argument instead of <code>params</code>. The <code>state</code> argument remains unchanged.</p>
</li>
<li>
<p><strong>Own parameter:</strong> Remove the <code>params(parser)</code> function that previously defined your parameter list. Instead, transfer your parameter definitions into the appropriate YAML files within the <code>conf</code> folder, following the structure described in the "Custom modules (now called 'user')" section.</p>
</li>
</ul>
<h2 id="complex-modules-made-more-readables-and-more-customizable">Complex modules made more readables, and more customizable</h2>
<p>Key modules like <code>iceflow</code> and <code>data_assimilation</code> (formerly optimize) have been split into sub-files to improve readability, maintainability, and customization. Sometimes, you may need to modify an existing built-in module, e.g. to test a new feature in the iceflow emulator/solver, or new cost in the data assimilation. This can be achieved by creating a user module that overrides the built-in functionality. Check at the page on <code>user modules</code> in the documentation.</p>
<h1 id="parameter-changes">Parameter changes</h1>
<h2 id="parameter-name-change-table-for-iceflow-module">Parameter name change table for <code>iceflow</code> module</h2>
<table>
<thead>
<tr>
<th>Formerly</th>
<th>New name</th>
</tr>
</thead>
<tbody>
<tr>
<td>iflo_type</td>
<td>iceflow.method</td>
</tr>
<tr>
<td>iflo_force_max_velbar</td>
<td>iceflow.force_max_velbar</td>
</tr>
<tr>
<td>iflo_gravity_cst</td>
<td>iceflow.physics.gravity_cst</td>
</tr>
<tr>
<td>iflo_ice_density</td>
<td>iceflow.physics.ice_density</td>
</tr>
<tr>
<td>iflo_init_slidingco</td>
<td>iceflow.physics.init_slidingco</td>
</tr>
<tr>
<td>iflo_init_arrhenius</td>
<td>iceflow.physics.init_arrhenius</td>
</tr>
<tr>
<td>iflo_enhancement_factor</td>
<td>iceflow.physics.enhancement_factor</td>
</tr>
<tr>
<td>iflo_exp_glen</td>
<td>iceflow.physics.exp_glen</td>
</tr>
<tr>
<td>iflo_exp_weertman</td>
<td>iceflow.physics.exp_weertman</td>
</tr>
<tr>
<td>iflo_regu_glen</td>
<td>iceflow.physics.regu_glen</td>
</tr>
<tr>
<td>iflo_regu_weertman</td>
<td>iceflow.physics.regu_weertman</td>
</tr>
<tr>
<td>iflo_new_friction_param</td>
<td>iceflow.physics.new_friction_param</td>
</tr>
<tr>
<td>iflo_dim_arrhenius</td>
<td>iceflow.physics.dim_arrhenius</td>
</tr>
<tr>
<td>iflo_regu</td>
<td>iceflow.physics.regu</td>
</tr>
<tr>
<td>iflo_thr_ice_thk</td>
<td>iceflow.physics.thr_ice_thk</td>
</tr>
<tr>
<td>iflo_min_sr</td>
<td>iceflow.physics.min_sr</td>
</tr>
<tr>
<td>iflo_max_sr</td>
<td>iceflow.physics.max_sr</td>
</tr>
<tr>
<td>iflo_force_negative_gravitational_energy</td>
<td>iceflow.physics.force_negative_gravitational_energy</td>
</tr>
<tr>
<td>iflo_cf_eswn</td>
<td>iceflow.physics.cf_eswn</td>
</tr>
<tr>
<td>iflo_cf_cond</td>
<td>iceflow.physics.cf_cond</td>
</tr>
<tr>
<td>iflo_Nz</td>
<td>iceflow.numerics.Nz</td>
</tr>
<tr>
<td>iflo_vert_spacing</td>
<td>iceflow.numerics.vert_spacing</td>
</tr>
<tr>
<td>iflo_solve_step_size</td>
<td>iceflow.solver.step_size</td>
</tr>
<tr>
<td>iflo_solve_nbitmax</td>
<td>iceflow.solver.nbitmax</td>
</tr>
<tr>
<td>iflo_solve_stop_if_no_decrease</td>
<td>iceflow.solver.stop_if_no_decrease</td>
</tr>
<tr>
<td>iflo_optimizer_solver</td>
<td>iceflow.solver.optimizer</td>
</tr>
<tr>
<td>iflo_optimizer_lbfgs</td>
<td>iceflow.solver.lbfgs</td>
</tr>
<tr>
<td>iflo_save_cost_solver</td>
<td>iceflow.solver.save_cost</td>
</tr>
<tr>
<td>iflo_fieldin</td>
<td>iceflow.emulator.fieldin</td>
</tr>
<tr>
<td>iflo_retrain_emulator_freq</td>
<td>iceflow.emulator.retrain_freq</td>
</tr>
<tr>
<td>iflo_retrain_emulator_lr</td>
<td>iceflow.emulator.lr</td>
</tr>
<tr>
<td>iflo_retrain_emulator_lr_init</td>
<td>iceflow.emulator.lr_init</td>
</tr>
<tr>
<td>iflo_retrain_warm_up_it</td>
<td>iceflow.emulator.warm_up_it</td>
</tr>
<tr>
<td>iflo_retrain_emulator_nbit_init</td>
<td>iceflow.emulator.nbit_init</td>
</tr>
<tr>
<td>iflo_retrain_emulator_nbit</td>
<td>iceflow.emulator.nbit</td>
</tr>
<tr>
<td>iflo_retrain_emulator_framesizemax</td>
<td>iceflow.emulator.framesizemax</td>
</tr>
<tr>
<td>iflo_pretrained_emulator</td>
<td>iceflow.emulator.pretrained</td>
</tr>
<tr>
<td>iflo_emulator</td>
<td>iceflow.emulator.name</td>
</tr>
<tr>
<td>iflo_save_model</td>
<td>iceflow.emulator.save_model</td>
</tr>
<tr>
<td>iflo_exclude_borders</td>
<td>iceflow.emulator.exclude_borders</td>
</tr>
<tr>
<td>iflo_optimizer_emulator</td>
<td>iceflow.emulator.optimizer</td>
</tr>
<tr>
<td>iflo_optimizer_emulator_clipnorm</td>
<td>iceflow.emulator.optimizer_clipnorm</td>
</tr>
<tr>
<td>iflo_optimizer_emulator_epsilon</td>
<td>iceflow.emulator.optimizer_epsilon</td>
</tr>
<tr>
<td>iflo_save_cost_emulator</td>
<td>iceflow.emulator.save_cost</td>
</tr>
<tr>
<td>iflo_output_directory</td>
<td>iceflow.emulator.output_directory</td>
</tr>
<tr>
<td>iflo_network</td>
<td>iceflow.emulator.network.architecture</td>
</tr>
<tr>
<td>iflo_multiple_window_size</td>
<td>iceflow.emulator.network.multiple_window_size</td>
</tr>
<tr>
<td>iflo_activation</td>
<td>iceflow.emulator.network.activation</td>
</tr>
<tr>
<td>iflo_nb_layers</td>
<td>iceflow.emulator.network.nb_layers</td>
</tr>
<tr>
<td>iflo_nb_blocks</td>
<td>iceflow.emulator.network.nb_blocks</td>
</tr>
<tr>
<td>iflo_nb_out_filter</td>
<td>iceflow.emulator.network.nb_out_filter</td>
</tr>
<tr>
<td>iflo_conv_ker_size</td>
<td>iceflow.emulator.network.conv_ker_size</td>
</tr>
<tr>
<td>iflo_dropout_rate</td>
<td>iceflow.emulator.network.dropout_rate</td>
</tr>
<tr>
<td>iflo_weight_initialization</td>
<td>iceflow.emulator.network.weight_initialization</td>
</tr>
</tbody>
</table>
<h2 id="parameter-name-change-table-for-optimize-data_assimilation-module">Parameter name change table for <code>optimize</code> (<code>data_assimilation</code>) module</h2>
<table>
<thead>
<tr>
<th>Formerly</th>
<th>New name</th>
</tr>
</thead>
<tbody>
<tr>
<td>opti_control</td>
<td>data_assimilation.control_list</td>
</tr>
<tr>
<td>opti_cost</td>
<td>data_assimilation.cost_list</td>
</tr>
<tr>
<td>opti_nbitmin</td>
<td>data_assimilation.optimization.nbitmin</td>
</tr>
<tr>
<td>opti_nbitmax</td>
<td>data_assimilation.optimization.nbitmax</td>
</tr>
<tr>
<td>opti_step_size</td>
<td>data_assimilation.optimization.step_size</td>
</tr>
<tr>
<td>opti_step_size_decay</td>
<td>data_assimilation.optimization.step_size_decay</td>
</tr>
<tr>
<td>opti_init_zero_thk</td>
<td>data_assimilation.optimization.init_zero_thk</td>
</tr>
<tr>
<td>opti_sole_mask</td>
<td>data_assimilation.optimization.sole_mask</td>
</tr>
<tr>
<td>opti_retrain_iceflow_model</td>
<td>data_assimilation.optimization.retrain_iceflow_model</td>
</tr>
<tr>
<td>opti_fix_opti_normalization_issue</td>
<td>data_assimilation.optimization.fix_opti_normalization_issue</td>
</tr>
<tr>
<td>opti_regu_param_thk</td>
<td>data_assimilation.regularization.thk</td>
</tr>
<tr>
<td>opti_regu_param_slidingco</td>
<td>data_assimilation.regularization.slidingco</td>
</tr>
<tr>
<td>opti_regu_param_arrhenius</td>
<td>data_assimilation.regularization.arrhenius</td>
</tr>
<tr>
<td>opti_regu_param_div</td>
<td>data_assimilation.regularization.divflux</td>
</tr>
<tr>
<td>opti_smooth_anisotropy_factor</td>
<td>data_assimilation.regularization.smooth_anisotropy_factor</td>
</tr>
<tr>
<td>opti_smooth_anisotropy_factor_sl</td>
<td>data_assimilation.regularization.smooth_anisotropy_factor_sl</td>
</tr>
<tr>
<td>opti_convexity_weight</td>
<td>data_assimilation.regularization.convexity_weight</td>
</tr>
<tr>
<td>opti_convexity_power</td>
<td>data_assimilation.regularization.convexity_power</td>
</tr>
<tr>
<td>opti_to_regularize</td>
<td>data_assimilation.regularization.to_regularize</td>
</tr>
<tr>
<td>opti_usurfobs_std</td>
<td>data_assimilation.fitting.usurfobs_std</td>
</tr>
<tr>
<td>opti_velsurfobs_std</td>
<td>data_assimilation.fitting.velsurfobs_std</td>
</tr>
<tr>
<td>opti_thkobs_std</td>
<td>data_assimilation.fitting.thkobs_std</td>
</tr>
<tr>
<td>opti_divfluxobs_std</td>
<td>data_assimilation.fitting.divfluxobs_std</td>
</tr>
<tr>
<td>opti_uniformize_thkobs</td>
<td>data_assimilation.fitting.uniformize_thkobs</td>
</tr>
<tr>
<td>opti_include_low_speed_term</td>
<td>data_assimilation.fitting.include_low_speed_term</td>
</tr>
<tr>
<td>opti_velsurfobs_thr</td>
<td>data_assimilation.fitting.velsurfobs_thr</td>
</tr>
<tr>
<td>opti_log_slidingco</td>
<td>data_assimilation.fitting.log_slidingco</td>
</tr>
<tr>
<td>opti_divflux_method</td>
<td>data_assimilation.divflux.method</td>
</tr>
<tr>
<td>opti_force_zero_sum_divflux</td>
<td>data_assimilation.divflux.force_zero_sum</td>
</tr>
<tr>
<td>opti_scaling_thk</td>
<td>data_assimilation.scaling.thk</td>
</tr>
<tr>
<td>opti_scaling_usurf</td>
<td>data_assimilation.scaling.usurf</td>
</tr>
<tr>
<td>opti_scaling_slidingco</td>
<td>data_assimilation.scaling.slidingco</td>
</tr>
<tr>
<td>opti_scaling_arrhenius</td>
<td>data_assimilation.scaling.arrhenius</td>
</tr>
<tr>
<td>opti_output_freq</td>
<td>data_assimilation.output.freq</td>
</tr>
<tr>
<td>opti_plot2d_live</td>
<td>data_assimilation.output.plot2d_live</td>
</tr>
<tr>
<td>opti_plot2d</td>
<td>data_assimilation.output.plot2d</td>
</tr>
<tr>
<td>opti_save_result_in_ncdf</td>
<td>data_assimilation.output.save_result_in_ncdf</td>
</tr>
<tr>
<td>opti_save_iterat_in_ncdf</td>
<td>data_assimilation.output.save_iterat_in_ncdf</td>
</tr>
<tr>
<td>opti_editor_plot2d</td>
<td>data_assimilation.output.editor_plot2d</td>
</tr>
<tr>
<td>opti_vars_to_save</td>
<td>data_assimilation.output.vars_to_save</td>
</tr>
<tr>
<td>opti_infer_params</td>
<td>data_assimilation.cook.infer_params</td>
</tr>
<tr>
<td>opti_tidewater_glacier</td>
<td>data_assimilation.cook.tidewater_glacier</td>
</tr>
<tr>
<td>opti_vol_std</td>
<td>data_assimilation.cook.vol_std</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../help/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Support">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Support
              </div>
            </div>
          </a>
        
        
          
          <a href="../tools/" class="md-footer__link md-footer__link--next" aria-label="Next: Tools">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Tools
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate", "content.code.select", "navigation.path", "navigation.instant.progress", "navigation.tabs", "navigation.footer", "toc.integrate", "toc.follow", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>